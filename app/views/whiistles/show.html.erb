<div class='flex grow'>
  <div class="p-2 w-2/3">
    <% if @whiistle.is_a?(Reply) || @whiistle.is_a?(Flood)  %>
      <div class="border-solid border-second border-l p-2 ">
        <%= render Whiistles::AllParentsUntilRootComponent.new(whiistle: @whiistle.whiistle, current_user_presenter: @current_user_presenter) %>
      </div>
    <% end %>

    <div class='p-2'>
      <%= render Whiistles::MainWhiistleComponent.new(whiistle: @whiistle, current_user_presenter: @current_user_presenter) %>
    
      <% if (@whiistle.is_a?(Whiistle) || @whiistle.is_a?(Flood)) && @whiistle.flood.present? %>
        <div class="pl-2 ml-6 border-solid border-l border-l-second border-b ">
          <%= render Whiistles::AllChildrenFloodsComponent.new(flood: @whiistle.flood, current_user_presenter: @current_user_presenter) %>
        </div>
      <% end %>
    
      <% if @whiistle.replies.present? %>
        <div class="pl-8">
          <%= render Whiistles::ListWhiistlesComponent.new(whiistles: @whiistle.replies, current_user_presenter: @current_user_presenter) %>
        </div>
      <% end %>
    </div>
  </div>
  <div class='w-1/3'>
    <%= render Users::SidebarRightComponent.new(sidebar_right_presenter: @sidebar_right_presenter) %>
  </div>
</div>
